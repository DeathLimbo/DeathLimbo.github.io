---
layout: post title: go-深入了解数组、切片、map date: 2020-12-030 categories: arr tags: [go,arr,map,slice]
description: 文章金句。
---

# 前言 #

之前对于数组、切片、map都是处于一个会用但是没有深入了解的过程，这次基于<<go语言实战>>系统的学习了一边go基础，趁着这次机会，深入了解一下源码

## 数组 ##

### 定义 ###

数组是一个长度固定的数据类型，用于存储一段具有相同类型的元素连续块

### 存储类型 ###

1、内置类型(整型、字符串等)
2、某种结构体类型

### 原理 ###

数组占用的内存是连续分配的，根据他的内存联系，cpu能把正在使用的数据缓存更久的时间，并且内存连续很容易计算索引，可以快速迭代数组里面的所有元素

### 申明方法 ###

1、var array [5]int ：这种声明方法 值权威该类型的默认值 <br>
2、array := [5]int{10,20,30,40,50} array := [...]int{10,20,30,40,50}或 ：这种申明一旦创建，数组里存储的数据类型和数据长度就不能改变 <br>

### 踩坑 ###

在函数之间传递数组，根据内存和性能来看，是一个开销很大的操作：在函数之间传递变量时，总是以值的形式传递，如果是一个数组，则不管多长都会完整的复制传递给函数，这种情况下可以考虑传递一个指针变量。<br>
例如：传递一个100万个int类型，在64位架构上，这将需要800万字节，即8MB的内存，如果每次函数调用，这 将是一笔巨大的开销，如果这里换成传入数组的指针，只需要复制8个字节，不过需要意识到的一个地方，他会修改原数组的值<br>

## 切片 ##

### 定义 ###

切片是一种数组结构，是围绕动态数组的概念构建的，可以按需自动增长和缩小。

### 原理 ###

切片具有数组来实现，切片是一个很小的对象，对底层数组进行了抽象，切片有三个字段:1、底层数字的指针2、长度3、容量

### 申明方法 ###
1、make <br>
slice := make([]int,2,2)<br>
2、切片字面量 <br>
slice := []int{1，2} <br>
3、nil切片 <br>
var slice []int <br>
4、空切片 <br>
slice := make([]int,0)<br>