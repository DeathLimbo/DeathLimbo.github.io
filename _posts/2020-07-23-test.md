---
layout: post
title: go-测试
date: 2020-07-23
categories: 测试
tags: [go,测试]
description: 文章金句。
---
<h1>测试</h1>

<h2>1、go test</h2> <br>

go test命令是一个按照一定的约定和组织的测试代码的驱动程序。在包目录内，所有以_test.go为后缀 名的源文件并不是go build构建包的一部分，它们是go test测试的一部分。<br>

分类:测试函数、基准测试函数、示例函数<br>
测试函数是以Test 为函数名前缀的函数，用于测试程序的一些逻辑行为是否正确,go test命令会调用这些测试函数并报告 测试结果是PASS或FAIL<br>
基准测试函数是以Benchmark为函数名前缀的函数，它们用于衡量一些函数的性 能；go test命令会多次运行基准函数以计算一个平均的执行时间。<br>
示例函数是以Example为函数名前缀 的函数，提供一个由编译器保证正确性的示例文档。<br>


go test命令会遍历所有的*_test.go文件中符合上述命名规则的函数，然后生成一个临时的main包用于
调用相应的测试函数，然后构建并运行、报告测试结果，最后清理测试中生成的临时文件。<br>

<h3>1.1测试函数</h3>
***！！！每个测试函数必须导入 testing 包:<br>
func TestName(t *testing.T) { <br>
// ... <br>
}<br>
***!!!测试函数的名字必须以Test开头, 可选的后缀名必须以大写字母开头: <br>
func TestSin(t *testing.T) { <br>
/* ... */ <br>
}<br>

其中 t 参数用于报告测试失败和附件的日志信息.<br>

参数 -v 用于打印每个测试函数的名字和运行时间: go test -v <br>

参数 -run 是一个正则表达式, 只有测试函数名被它正确匹配的测试函数才会被 go test 运行: go test -v -run="French|Canal" <br>


<h3>1.2随机测试</h3>
通过构造更广泛的随机输入来测试探索函数的行为<br>
对于一个随机的输入, 我们如何能知道希望的输出结果呢? 这里有两种策略:<br>
 1、是编写另一个 函数, 使用简单和清晰的算法, 虽然效率较低但是行为和要测试的函数一致, 然后针对相同的随机输入 检查两者的输出结果<br>
 2、是生成的随机输入的数据遵循特定的模式, 这样我们就可以知道期望的输 出的模式<br>
 









